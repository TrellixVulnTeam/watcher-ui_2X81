{"ast":null,"code":"import _slicedToArray from\"/Users/ankitadixit/Documents/watcher-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Redirect}from'react-router';import{Header}from\"../../common/Header\";import{Home}from\"./Home\";import{Assets}from\"./Assets\";import{Domain}from\"./Domain\";import{Subdomains}from\"./Subdomains\";import{Services}from\"./Services\";import{Alerts}from\"./Alerts\";import{Settings}from\"./Settings\";import{AccountsSelector}from\"./AccountsSelector\";import{PhaseSelector}from\"./PhaseSelector\";import{Pentest}from\"./Pentest\";import{Scan}from\"./Scan\";import{Trial}from\"./Trial\";import{MDBCol,MDBContainer,MDBIcon,MDBRow}from\"mdbreact\";import\"./style.css\";import{fetchData}from'../../services/apiConfig';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Dashboard=function Dashboard(props){var _useState=useState('home'),_useState2=_slicedToArray(_useState,2),view=_useState2[0],setView=_useState2[1];var _useState3=useState('DEV'),_useState4=_slicedToArray(_useState3,2),account=_useState4[0],setAccount=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),parameter=_useState6[0],setParameter=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),scan=_useState8[0],setScan=_useState8[1];var _useState9=useState({\"trial_days_remaining\":15,\"metrics\":{}}),_useState10=_slicedToArray(_useState9,2),dashboardKPI=_useState10[0],setDashboardKPI=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),signature=_useState12[0],setSignature=_useState12[1];var token=localStorage.getItem(\"token\");var username=localStorage.getItem(\"username\");useEffect(function(){fetchData('dashboard','GET').then(function(res){if(res.message){if(res.message.indexOf(\"Error\")!==-1){localStorage.clear();setSignature('0');}}else{setDashboardKPI(res);if(res.message!=undefined){setScan('scan');setView('scan');}if(res.trial_days_remaining===0){setView('trial');}}});},[props]);var SwitchView=function SwitchView(value,e){setParameter(e);setView(value);};var Account=function Account(e){setAccount(e);};var Switch=function Switch(e){if(scan==='scan'){setView('scan');}else{setView(e);}};if(signature==='0'||username===undefined||token===null||token===undefined||token==='undefined'||token.length<0){return/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/login'}});}if(props.User!==undefined&&props.User.is_onboarded===false){return/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/onboarding'}});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(MDBContainer,{fluid:true,children:/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsxs(MDBCol,{xs:\"1\",sm:\"1\",md:\"2\",children:[/*#__PURE__*/_jsx(MDBRow,{style:{backgroundColor:\"#29283a\",height:\"7vh\"}}),/*#__PURE__*/_jsx(MDBRow,{style:{backgroundColor:\"#3c3a4f\",height:\"93vh\",justifyContent:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"35px\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(MDBIcon,{fab:true,onClick:function onClick(){return window.open('https://www.facebook.com/apnisec.in');},icon:\"facebook-f\",style:{fontSize:\"20px\",color:\"#fbfbfd\",cursor:\"pointer\",marginLeft:\"20px\"}}),/*#__PURE__*/_jsx(MDBIcon,{fab:true,onClick:function onClick(){return window.open('https://twitter.com/apnisec');},icon:\"twitter\",style:{fontSize:\"20px\",color:\"#fbfbfd\",cursor:\"pointer\"}}),/*#__PURE__*/_jsx(MDBIcon,{fab:true,onClick:function onClick(){return window.open('https://www.linkedin.com/company/apnisec');},icon:\"linkedin-in\",style:{fontSize:\"20px\",color:\"#fbfbfd\",cursor:\"pointer\"}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"10px\"},children:[/*#__PURE__*/_jsxs(\"label\",{className:\"toolLabel\",children:[\"Watcher\",/*#__PURE__*/_jsx(MDBIcon,{style:{paddingTop:\"5px\",marginLeft:\"9vw\"},icon:\"angle-down\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"side-nav-links\",onClick:function onClick(){return Switch('home');},children:[/*#__PURE__*/_jsx(MDBIcon,{icon:\"chart-line\"}),\" \\xA0\\xA0Dashboard\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"side-nav-links\",style:{opacity:0.1,cursor:\"not-allowed\"}//  onClick={() => Switch('assets')}\n,children:[/*#__PURE__*/_jsx(MDBIcon,{icon:\"database\"}),\" \\xA0\\xA0Assets\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"side-nav-links\",style:{opacity:0.1,cursor:\"not-allowed\"}// onClick={() => Switch('alerts')}\n,children:[/*#__PURE__*/_jsx(MDBIcon,{icon:\"exclamation-circle\"}),\" \\xA0\\xA0Alerts\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"side-nav-links\",onClick:function onClick(){return Switch('settings');},children:[/*#__PURE__*/_jsx(MDBIcon,{icon:\"wrench\"}),\" \\xA0\\xA0Settings\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toolLabel\",children:[\"SCM Watcher\",/*#__PURE__*/_jsx(MDBIcon,{style:{paddingTop:\"5px\",marginLeft:\"7.2vw\"},icon:\"angle-down\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"side-nav-links\",style:{opacity:0.1,cursor:\"not-allowed\"},children:[/*#__PURE__*/_jsx(MDBIcon,{icon:\"chart-line\"}),\" \\xA0\\xA0GIT leaks\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toolLabel\",children:[\"Bizness\",/*#__PURE__*/_jsx(MDBIcon,{style:{paddingTop:\"5px\",marginLeft:\"9vw\"},icon:\"angle-down\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"side-nav-links\",style:{opacity:0.1,cursor:\"not-allowed\"},children:[/*#__PURE__*/_jsx(MDBIcon,{icon:\"chart-line\"}),\" \\xA0\\xA0LogAI\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"side-nav-links\",style:{opacity:0.1,cursor:\"not-allowed\"},children:[/*#__PURE__*/_jsx(MDBIcon,{icon:\"wrench\"}),\" \\xA0\\xA0Settings\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toolLabel\",children:[\"Dark Eye Watcher\",/*#__PURE__*/_jsx(MDBIcon,{style:{paddingTop:\"5px\",marginLeft:\"5.9vw\"},icon:\"angle-down\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"side-nav-links\",style:{opacity:0.1,cursor:\"not-allowed\"},children:[/*#__PURE__*/_jsx(MDBIcon,{icon:\"wrench\"}),\" \\xA0\\xA0Monitoring\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"20vh\"},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"side-nav-links-bottom\",children:[dashboardKPI.trial_days_remaining,\" days left of free trial\",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"side-nav-links-bottom\",children:[/*#__PURE__*/_jsx(MDBIcon,{icon:\"envelope\"}),\" \\xA0\\xA0Contact us\"]})]})]})]})})]}),/*#__PURE__*/_jsxs(MDBCol,{xs:\"11\",sm:\"11\",md:\"10\",children:[/*#__PURE__*/_jsx(Header,{User:props.User,SwitchView:SwitchView}),/*#__PURE__*/_jsx(MDBRow,{style:{backgroundColor:\"#fbfbfd\",height:\"93vh\",overflowY:\"scroll\"},children:/*#__PURE__*/_jsx(MDBContainer,{fluid:true,style:{overflowX:\"hidden\"},children:function(){switch(view){case'scan':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AccountsSelector,{Account:account,AccountToggle:Account}),/*#__PURE__*/_jsx(Scan,{User:props.User,SwitchView:SwitchView,Account:account,AccountToggle:Account})]});case'trial':return/*#__PURE__*/_jsx(Trial,{});case'home':return/*#__PURE__*/_jsx(Home,{User:props.User,SwitchView:SwitchView,Kpi:dashboardKPI});case'assets':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AccountsSelector,{Account:account,AccountToggle:Account}),/*#__PURE__*/_jsx(Assets,{User:username,SwitchView:SwitchView,Account:account,AccountToggle:Account})]});case'pentest':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PhaseSelector,{Account:account,AccountToggle:Account,Kpi:dashboardKPI}),/*#__PURE__*/_jsx(Pentest,{User:username,SwitchView:SwitchView,Account:account,AccountToggle:Account,Kpi:dashboardKPI})]});case'domains':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AccountsSelector,{Account:account,AccountToggle:Account}),/*#__PURE__*/_jsx(Domain,{User:props.User,SwitchView:SwitchView,Account:account,AccountToggle:Account})]});case'subdomains':return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Subdomains,{User:props.User,SwitchView:SwitchView,Account:account,Domain:parameter})});case'services':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MDBContainer,{fluid:true,style:{paddingTop:\"2vw\",paddingLeft:\"2vw\"},children:/*#__PURE__*/_jsx(MDBRow,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"custom-select\",style:{width:\"250px\"},onChange:function onChange(e){return Account(e);},value:account,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"339361266133@delhivery-prod\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"339361266134@delhivery-dev\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"339361266135@delhivery-uat\"})]})})})}),/*#__PURE__*/_jsx(Services,{User:props.User,SwitchView:SwitchView,Account:account})]});case'alerts':return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Alerts,{})});case'settings':return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Settings,{})});default:return/*#__PURE__*/_jsx(\"div\",{children:\"You are a User.\"});}}()})})]})]})})});};","map":{"version":3,"sources":["/Users/ankitadixit/Documents/watcher-ui/src/components/dashboard/Dashboard.tsx"],"names":["React","useState","useEffect","Redirect","Header","Home","Assets","Domain","Subdomains","Services","Alerts","Settings","AccountsSelector","PhaseSelector","Pentest","Scan","Trial","MDBCol","MDBContainer","MDBIcon","MDBRow","fetchData","Dashboard","props","view","setView","account","setAccount","parameter","setParameter","scan","setScan","dashboardKPI","setDashboardKPI","signature","setSignature","token","localStorage","getItem","username","then","res","message","indexOf","clear","undefined","trial_days_remaining","SwitchView","value","e","Account","Switch","length","pathname","User","is_onboarded","backgroundColor","height","justifyContent","marginTop","window","open","fontSize","color","cursor","marginLeft","paddingTop","opacity","overflowY","overflowX","paddingLeft","width"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect, useLayoutEffect } from \"react\";\nimport { Redirect } from 'react-router';\nimport { Header } from \"../../common/Header\";\nimport { Home } from \"./Home\";\nimport { Assets } from \"./Assets\";\nimport { Domain } from \"./Domain\";\nimport { Subdomains } from \"./Subdomains\";\nimport { Services } from \"./Services\";\nimport { Alerts } from \"./Alerts\";\nimport { Settings } from \"./Settings\";\nimport { AccountsSelector } from \"./AccountsSelector\";\nimport { PhaseSelector } from \"./PhaseSelector\";\nimport { Pentest } from \"./Pentest\";\nimport { Scan } from \"./Scan\"\nimport { Trial } from \"./Trial\"\nimport {\n    MDBBtn,\n    MDBCard,\n    MDBCardBody,\n    MDBCardImage,\n    MDBCardText,\n    MDBCol,\n    MDBContainer,\n    MDBFormInline,\n    MDBIcon,\n    MDBInput,\n    MDBRow,\n    MDBTable,\n    MDBTableBody,\n    MDBTableHead,\n} from \"mdbreact\";\nimport { useHistory } from \"react-router\";\nimport logo from '../../assets/images/logo-white-large.png';\nimport \"./style.css\"\nimport { fetchData } from '../../services/apiConfig'\n\nexport const Dashboard = (props: any) => {\n    const [view, setView] = useState('home');\n    const [account, setAccount] = useState('DEV');\n    const [parameter, setParameter] = useState();\n    const [scan, setScan] = useState('');\n    const [dashboardKPI, setDashboardKPI] = useState({ \"trial_days_remaining\": 15, \"metrics\": {} });\n    const [signature, setSignature] = useState('');\n    const token = localStorage.getItem(\"token\");\n    const username = localStorage.getItem(\"username\");\n    useEffect(() => {\n        fetchData('dashboard', 'GET').then((res: any) => {\n            if (res.message) {\n                if (res.message.indexOf(\"Error\") !== -1) {\n                    localStorage.clear();\n                    setSignature('0')\n                }\n            } else {\n            setDashboardKPI(res)\n\n            if (res.message != undefined) {\n                setScan('scan')\n                setView('scan')\n            }\n            if (res.trial_days_remaining === 0) {\n                setView('trial')\n            }\n        }\n        })\n    }, [props]);\n    const SwitchView = (value: any, e?: any) => {\n        setParameter(e)\n        setView(value)\n    }\n    const Account = (e: any) => {\n        setAccount(e)\n    }\n    const Switch = (e: any) => {\n        if (scan === 'scan') {\n            setView('scan')\n        } else {\n            setView(e)\n        }\n    }\n    if (signature === '0' || username === undefined || token === null || token === undefined || token === 'undefined' || token.length < 0) {\n        return <Redirect to={{\n            pathname: '/login',\n        }} />\n    }\n    if (props.User !== undefined && props.User.is_onboarded === false) {\n        return <Redirect to={{\n            pathname: '/onboarding',\n        }} />\n    }\n    return (\n        <>\n            <MDBContainer fluid>\n                <MDBRow>\n                    <MDBCol xs=\"1\" sm='1' md='2'>\n                        <MDBRow style={{ backgroundColor: \"#29283a\", height: \"7vh\" }}>\n                        </MDBRow>\n                        <MDBRow style={{ backgroundColor: \"#3c3a4f\", height: \"93vh\", justifyContent: \"center\" }}>\n                            <div style={{ marginTop: \"35px\" }}>\n                                <p>\n                                    <MDBIcon fab onClick={() => window.open('https://www.facebook.com/apnisec.in')} icon=\"facebook-f\" style={{ fontSize: \"20px\", color: \"#fbfbfd\", cursor: \"pointer\", marginLeft: \"20px\" }} />\n                                    <MDBIcon fab onClick={() => window.open('https://twitter.com/apnisec')} icon=\"twitter\" style={{ fontSize: \"20px\", color: \"#fbfbfd\", cursor: \"pointer\" }} />\n                                    <MDBIcon fab onClick={() => window.open('https://www.linkedin.com/company/apnisec')} icon=\"linkedin-in\" style={{ fontSize: \"20px\", color: \"#fbfbfd\", cursor: \"pointer\" }} />\n                                </p>\n                                <div style={{ marginTop: \"10px\" }}>\n                                    <label className=\"toolLabel\">Watcher<MDBIcon style={{ paddingTop: \"5px\", marginLeft: \"9vw\" }} icon=\"angle-down\" /></label>\n                                    <p className=\"side-nav-links\" onClick={() => Switch('home')}>\n                                        <MDBIcon icon=\"chart-line\" /> &nbsp;&nbsp;Dashboard\n                                   </p>\n                                    <p className=\"side-nav-links\" style={{ opacity: 0.1, cursor: \"not-allowed\" }}\n                                  //  onClick={() => Switch('assets')}\n                                    >\n                                        <MDBIcon icon=\"database\" /> &nbsp;&nbsp;Assets\n                                  </p>\n                                    <p className=\"side-nav-links\" style={{ opacity: 0.1, cursor: \"not-allowed\" }}\n                                    // onClick={() => Switch('alerts')}\n                                    >\n                                        <MDBIcon icon=\"exclamation-circle\" /> &nbsp;&nbsp;Alerts\n                                  </p>\n                                    <p className=\"side-nav-links\" onClick={() => Switch('settings')}>\n                                        <MDBIcon icon=\"wrench\" /> &nbsp;&nbsp;Settings\n                                  </p>\n                                    <label className=\"toolLabel\">SCM Watcher<MDBIcon style={{ paddingTop: \"5px\", marginLeft: \"7.2vw\" }} icon=\"angle-down\" /></label>\n                                    <p className=\"side-nav-links\" style={{ opacity: 0.1, cursor: \"not-allowed\" }}>\n                                        <MDBIcon icon=\"chart-line\" /> &nbsp;&nbsp;GIT leaks\n                                   </p>\n                                    <label className=\"toolLabel\">Bizness<MDBIcon style={{ paddingTop: \"5px\", marginLeft: \"9vw\" }} icon=\"angle-down\" /></label>\n                                    <p className=\"side-nav-links\" style={{ opacity: 0.1, cursor: \"not-allowed\" }}>\n                                        <MDBIcon icon=\"chart-line\" /> &nbsp;&nbsp;LogAI\n                                   </p>\n                                    <p className=\"side-nav-links\" style={{ opacity: 0.1, cursor: \"not-allowed\" }}>\n                                        <MDBIcon icon=\"wrench\" /> &nbsp;&nbsp;Settings\n                                  </p>\n                                    <label className=\"toolLabel\">Dark Eye Watcher<MDBIcon style={{ paddingTop: \"5px\", marginLeft: \"5.9vw\" }} icon=\"angle-down\" /></label>\n                                    <p className=\"side-nav-links\" style={{ opacity: 0.1, cursor: \"not-allowed\" }}>\n                                        <MDBIcon icon=\"wrench\" /> &nbsp;&nbsp;Monitoring\n                                  </p>\n                                    <div style={{ marginTop: \"20vh\" }} >\n                                        <p className=\"side-nav-links-bottom\">\n                                            {(dashboardKPI as any).trial_days_remaining} days left of free trial\n                                    <br />\n                                        </p>\n                                        <p className=\"side-nav-links-bottom\">\n                                            <MDBIcon icon=\"envelope\" /> &nbsp;&nbsp;Contact us\n                                     </p>\n                                    </div>\n                                </div>\n                            </div>\n                        </MDBRow>\n                    </MDBCol>\n                    <MDBCol xs=\"11\" sm='11' md='10'>\n                        <Header User={props.User} SwitchView={SwitchView} />\n                        <MDBRow style={{ backgroundColor: \"#fbfbfd\", height: \"93vh\", overflowY: \"scroll\" }}>\n                            <MDBContainer fluid style={{ overflowX: \"hidden\" }}>\n                                {(() => {\n                                    switch (view) {\n                                        case 'scan':\n                                            return (\n                                                <div>\n                                                    <AccountsSelector Account={account} AccountToggle={Account} />\n                                                    <Scan User={props.User} SwitchView={SwitchView} Account={account} AccountToggle={Account} />\n                                                </div>\n                                            )\n                                        case 'trial':\n                                            return (\n                                                <Trial />\n                                            )\n                                        case 'home':\n                                            return (\n                                                <Home User={props.User} SwitchView={SwitchView} Kpi={dashboardKPI}/>\n                                            )\n                                        case 'assets':\n                                            return (\n                                                <div>\n                                                    <AccountsSelector Account={account} AccountToggle={Account} />\n                                                    <Assets User={username} SwitchView={SwitchView} Account={account} AccountToggle={Account} />\n                                                </div>\n                                            )\n                                        case 'pentest':\n                                            return (\n                                                <div>\n                                                    <PhaseSelector Account={account} AccountToggle={Account} Kpi={dashboardKPI}/>\n                                                    <Pentest User={username} SwitchView={SwitchView} Account={account} AccountToggle={Account} Kpi={dashboardKPI}/>\n                                                </div>\n                                            )\n                                        case 'domains':\n                                            return (\n                                                <div>\n                                                    <AccountsSelector Account={account} AccountToggle={Account} />\n                                                    <Domain User={props.User} SwitchView={SwitchView} Account={account} AccountToggle={Account} />\n                                                </div>\n                                            )\n                                        case 'subdomains':\n                                            return (\n                                                <div>\n                                                    <Subdomains User={props.User} SwitchView={SwitchView} Account={account} Domain={parameter} />\n                                                </div>\n                                            )\n                                        case 'services':\n                                            return (\n                                                <div>\n                                                    <MDBContainer fluid style={{ paddingTop: \"2vw\", paddingLeft: \"2vw\" }}>\n                                                        <MDBRow>\n                                                            <div>\n                                                                <select className=\"custom-select\" style={{ width: \"250px\" }} onChange={(e: any) => Account(e)} value={account}>\n                                                                    <option value=\"1\" >339361266133@delhivery-prod</option>\n                                                                    <option value=\"2\" >339361266134@delhivery-dev</option>\n                                                                    <option value=\"3\" >339361266135@delhivery-uat</option>\n                                                                </select>\n                                                            </div>\n                                                        </MDBRow>\n                                                    </MDBContainer>\n                                                    <Services User={props.User} SwitchView={SwitchView} Account={account} />\n                                                </div>\n                                            )\n                                        case 'alerts':\n                                            return (\n                                                <div>\n                                                    <Alerts />\n                                                </div>\n                                            )\n                                        case 'settings':\n                                            return (\n                                                <div>\n                                                    <Settings />\n                                                </div>\n                                            )\n                                        default:\n                                            return (\n                                                <div>You are a User.</div>\n                                            )\n                                    }\n                                })()}\n                            </MDBContainer>\n                        </MDBRow>\n                    </MDBCol>\n                </MDBRow>\n            </MDBContainer>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}