{"ast":null,"code":"import _slicedToArray from\"/Users/ankitadixit/Documents/watcher-api-access-rights/watcher-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Redirect}from'react-router';import{MDBBtn,MDBCol,MDBContainer,MDBIcon,MDBRow,MDBBreadcrumbItem,MDBBreadcrumb,MDBBadge}from\"mdbreact\";import\"./style.css\";import{fetchData}from'../../services/apiConfig';import{AccountsSelector}from\"./AccountsSelector\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Domain=function Domain(props){console.log(props);var _useState=useState({availableDomains:3,lastSynced:\"July 02 2021, 20:57:13\",nonReachableDomains:1,domains:[],reachableDomains:2}),_useState2=_slicedToArray(_useState,2),domains=_useState2[0],setDomain=_useState2[1];var sortingDomains;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sortedDomains=_useState4[0],setSortedDomains=_useState4[1];useEffect(function(){fetchData('domain','GET',\"?accountName=\"+props.Account).then(function(res){console.log(res);sortingDomains=res.domains.sort(function(a,b){if(a.totalIssues>b.totalIssues){return-1;}else{return 1;}});setDomain(res);setSortedDomains(sortingDomains);});},[]);useEffect(function(){console.log(props.Account);if(props.Account.length>10){fetchData('domain','GET',\"?accountName=\"+props.Account).then(function(res){console.log(res);sortingDomains=res.domains.sort(function(a,b){if(a.totalIssues>b.totalIssues){return-1;}else{return 1;}});setDomain(res);console.log(sortedDomains);setSortedDomains(sortingDomains);});}},[props.Account]);var SubDomainSwitch=function SubDomainSwitch(e){console.log(e);props.SwitchView('subdomains',e);};var token=localStorage.getItem(\"token\");console.log(props);if(token===null||token===undefined||token.length<0){return/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/login'}});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(MDBContainer,{fluid:true,className:\"pb-5\",style:{padding:\"2vw\"},children:[/*#__PURE__*/_jsx(MDBRow,{children:/*#__PURE__*/_jsx(MDBCol,{sm:\"11\",md:\"11\",lg:\"11\",style:{padding:\"0px\"},children:/*#__PURE__*/_jsxs(MDBBreadcrumb,{children:[/*#__PURE__*/_jsxs(MDBBtn,{className:\"back\",onClick:function onClick(){return props.SwitchView('assets');},color:\"blue-grey\",style:{border:\"2px solid blue-grey\",borderRadius:\"5px\",marginLeft:\"0px !important\",fontSize:\"8px !important\"},children:[/*#__PURE__*/_jsx(MDBIcon,{icon:\"arrow-left\",style:{fontSize:\"8px\"}}),\" Back\"]}),/*#__PURE__*/_jsx(MDBBreadcrumbItem,{children:\"dashboard\"}),/*#__PURE__*/_jsx(MDBBreadcrumbItem,{children:\"assets\"}),/*#__PURE__*/_jsx(MDBBreadcrumbItem,{active:true,children:\"domains\"})]})})}),/*#__PURE__*/_jsx(MDBRow,{children:/*#__PURE__*/_jsx(AccountsSelector,{Account:props.Account,AccountToggle:props.AccountToggle})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(MDBRow,{children:/*#__PURE__*/_jsxs(MDBCol,{sm:\"11\",md:\"11\",lg:\"11\",style:{padding:\"10px 25px\",border:\"1px solid #ededef\"},children:[/*#__PURE__*/_jsxs(MDBRow,{md:\"12\",lg:\"12\",style:{display:\"inline-flex\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-dark font-weight-bold\",style:{fontSize:\"22px\",paddingTop:\"2px\"},children:\"Domains\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-dark\",style:{fontSize:\"12px\",marginLeft:\"10px\",paddingTop:\"12px\"},children:[\"Last synced \",domains.lastSynced]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(MDBRow,{style:{marginTop:\"2vh\"},children:[/*#__PURE__*/_jsx(MDBCol,{xs:\"4\",sm:\"4\",md:\"4\",lg:\"4\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"inline-flex\"},children:[/*#__PURE__*/_jsx(MDBIcon,{style:{backgroundColor:\"#ff8c00\",fontSize:\"40px\",color:\"white\"},icon:\"check\"}),/*#__PURE__*/_jsxs(\"p\",{style:{marginLeft:\"20px\"},children:[\" \",/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:\"25px\",fontWeight:\"bold\"},children:[\" \",domains.availableDomains]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" available domains\"]})]})}),/*#__PURE__*/_jsx(MDBCol,{xs:\"4\",sm:\"4\",md:\"4\",lg:\"4\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"inline-flex\"},children:[/*#__PURE__*/_jsx(MDBIcon,{style:{backgroundColor:\"#008450\",fontSize:\"40px\",color:\"white\"},icon:\"check-double\"}),/*#__PURE__*/_jsxs(\"p\",{style:{marginLeft:\"20px\"},children:[\" \",/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:\"25px\",fontWeight:\"bold\"},children:[\" \",domains.reachableDomains]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" running\"]})]})}),/*#__PURE__*/_jsx(MDBCol,{xs:\"4\",sm:\"4\",md:\"4\",lg:\"4\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"inline-flex\"},children:[/*#__PURE__*/_jsx(MDBIcon,{style:{backgroundColor:\"#dc3912\",fontSize:\"40px\",color:\"white\"},icon:\"exclamation-triangle\"}),/*#__PURE__*/_jsxs(\"p\",{style:{marginLeft:\"20px\"},children:[\" \",/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:\"25px\",fontWeight:\"bold\"},children:[\" \",domains.nonReachableDomains]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" not reachable\"]})]})})]})]})}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(MDBRow,{children:/*#__PURE__*/_jsx(MDBCol,{sm:\"11\",md:\"11\",lg:\"11\",style:{padding:\"10px 25px\",border:\"1px solid #ededef\"},children:/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:\"48vh\",overflowY:\"auto\",overflowX:\"hidden\"},children:/*#__PURE__*/_jsx(MDBRow,{className:\"awsRow\",children:sortedDomains.map(function(dom){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MDBCol,{className:\"domainList\",sm:\"3\",md:\"3\",lg:\"3\",onClick:function onClick(){return SubDomainSwitch(dom.domainName);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"domainCard\",children:[/*#__PURE__*/_jsxs(MDBBadge,{className:\"DomainBadge\",color:dom.totalIssues>0?\"danger\":\"success\",children:[dom.totalIssues,\" issues\"]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"12px\",color:\"chocolate\"}}),/*#__PURE__*/_jsx(\"p\",{className:\"text-dark font-weight-bold\",style:{fontSize:\"20px\",marginBlockEnd:\"0px\"},children:dom.domainName})]})}),/*#__PURE__*/_jsx(MDBCol,{sm:\"1\",md:\"1\",lg:\"1\"})]});})})})})})]})});};","map":{"version":3,"sources":["/Users/ankitadixit/Documents/watcher-api-access-rights/watcher-ui/src/components/dashboard/Domain.tsx"],"names":["React","useState","useEffect","Redirect","MDBBtn","MDBCol","MDBContainer","MDBIcon","MDBRow","MDBBreadcrumbItem","MDBBreadcrumb","MDBBadge","fetchData","AccountsSelector","Domain","props","console","log","availableDomains","lastSynced","nonReachableDomains","domains","reachableDomains","setDomain","sortingDomains","sortedDomains","setSortedDomains","Account","then","res","sort","a","b","totalIssues","length","SubDomainSwitch","e","SwitchView","token","localStorage","getItem","undefined","pathname","padding","border","borderRadius","marginLeft","fontSize","AccountToggle","display","paddingTop","marginTop","backgroundColor","color","fontWeight","maxHeight","overflowY","overflowX","map","dom","domainName","marginBlockEnd"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Redirect } from 'react-router';\nimport { Header } from \"../../common/Header\";\nimport {\n    MDBBtn,\n    MDBFreeBird,\n    MDBCard,\n    MDBCardBody,\n    MDBCardImage,\n    MDBCardText,\n    MDBCol,\n    MDBContainer,\n    MDBFormInline,\n    MDBIcon,\n    MDBInput,\n    MDBRow,\n    MDBTable,\n    MDBTableBody,\n    MDBTableHead,\n    MDBEdgeHeader,\n    MDBCardTitle,\n    MDBProgress,\n    MDBListGroup,\n    MDBListGroupItem,\n    MDBBreadcrumbItem,\n    MDBBreadcrumb,\n    MDBBadge\n} from \"mdbreact\";\nimport { useHistory } from \"react-router\";\nimport { Chart } from \"react-google-charts\";\nimport \"./style.css\";\nimport { fetchData } from '../../services/apiConfig'\nimport { AccountsSelector } from \"./AccountsSelector\";\nexport const Domain = (props: any) => {\n    console.log(props)\n    const [domains, setDomain] = useState({\n        availableDomains: 3,\n        lastSynced: \"July 02 2021, 20:57:13\",\n        nonReachableDomains: 1,\n        domains: [],\n        reachableDomains: 2\n    });\n    let sortingDomains: any\n    const [sortedDomains, setSortedDomains] = useState([])\n\n    useEffect(() => {\n        fetchData('domain', 'GET', \"?accountName=\" + props.Account).then((res: any) => {\n            console.log(res)\n            sortingDomains= res.domains.sort((a:any, b:any) => {\n                if(a.totalIssues > b.totalIssues) {\n                    return -1\n                } else {\n                    return 1\n                } \n            })\n            setDomain(res)\n            setSortedDomains(sortingDomains)\n        })\n    }, []);\n    useEffect(() => {\n        console.log(props.Account)\n        if (props.Account.length > 10) {\n            fetchData('domain', 'GET', \"?accountName=\" + props.Account).then((res: any) => {\n                console.log(res)\n                sortingDomains= res.domains.sort((a:any, b:any) => {\n                    if(a.totalIssues > b.totalIssues) {\n                        return -1\n                    } else {\n                        return 1\n                    } \n                })\n                setDomain(res)\n                console.log(sortedDomains)\n                setSortedDomains(sortingDomains)\n            })\n        }\n    }, [props.Account]);\n\n    const SubDomainSwitch = (e:any) => {\n        console.log(e);\n        props.SwitchView('subdomains', e)\n    }\n\n    const token = localStorage.getItem(\"token\");\n    console.log(props)\n    if (token === null || token === undefined || token.length < 0) {\n        return <Redirect to={{\n            pathname: '/login',\n        }} />\n    }\n    return (\n        <>\n            <MDBContainer fluid className=\"pb-5\" style={{ padding: \"2vw\" }}>\n                <MDBRow>\n                    <MDBCol sm=\"11\" md=\"11\" lg=\"11\" style={{ padding: \"0px\" }}>\n                        <MDBBreadcrumb >\n                            <MDBBtn className=\"back\" onClick={() => props.SwitchView('assets')} color=\"blue-grey\" style={{ border: \"2px solid blue-grey\", borderRadius: \"5px\", marginLeft: \"0px !important\", fontSize: \"8px !important\" }}>\n                                <MDBIcon icon=\"arrow-left\" style={{ fontSize: \"8px\" }} /> Back</MDBBtn>\n                            <MDBBreadcrumbItem>dashboard</MDBBreadcrumbItem>\n                            <MDBBreadcrumbItem>assets</MDBBreadcrumbItem>\n                            <MDBBreadcrumbItem active>domains</MDBBreadcrumbItem>\n                        </MDBBreadcrumb>\n                    </MDBCol>\n                </MDBRow>\n                <MDBRow>\n                <AccountsSelector Account={props.Account} AccountToggle={props.AccountToggle} />\n                </MDBRow>\n                <br />\n                <MDBRow>\n                    <MDBCol sm=\"11\" md=\"11\" lg=\"11\" style={{ padding: \"10px 25px\", border: \"1px solid #ededef\" }}>\n                        <MDBRow md=\"12\" lg=\"12\" style={{ display: \"inline-flex\" }}>\n                            <p className='text-dark font-weight-bold' style={{ fontSize: \"22px\", paddingTop: \"2px\" }}>Domains</p>\n                            <span className='text-dark' style={{ fontSize: \"12px\", marginLeft: \"10px\", paddingTop: \"12px\" }}>Last synced {domains.lastSynced}</span>\n                        </MDBRow>\n                        <br />\n                        <MDBRow style={{ marginTop: \"2vh\" }}>\n                            <MDBCol xs=\"4\" sm=\"4\" md=\"4\" lg=\"4\">\n                                <div style={{ display: \"inline-flex\" }}>\n                                    <MDBIcon style={{ backgroundColor: \"#ff8c00\", fontSize: \"40px\", color: \"white\" }}\n                                        icon=\"check\" />\n                                    <p style={{ marginLeft: \"20px\" }}> <span style={{ fontSize: \"25px\", fontWeight: \"bold\" }}> {domains.availableDomains}</span> <br /> available domains</p>\n                                </div>\n                            </MDBCol>\n                            <MDBCol xs=\"4\" sm=\"4\" md=\"4\" lg=\"4\">\n                                <div style={{ display: \"inline-flex\" }}>\n                                    <MDBIcon style={{ backgroundColor: \"#008450\", fontSize: \"40px\", color: \"white\" }}\n                                        icon=\"check-double\" />\n                                    <p style={{ marginLeft: \"20px\" }}> <span style={{ fontSize: \"25px\", fontWeight: \"bold\" }}> {domains.reachableDomains}</span> <br /> running</p>\n                                </div>\n                            </MDBCol>\n                            <MDBCol xs=\"4\" sm=\"4\" md=\"4\" lg=\"4\">\n                                <div style={{ display: \"inline-flex\" }}>\n                                    <MDBIcon style={{ backgroundColor: \"#dc3912\", fontSize: \"40px\", color: \"white\" }}\n                                        icon=\"exclamation-triangle\" />\n                                    <p style={{ marginLeft: \"20px\" }}> <span style={{ fontSize: \"25px\", fontWeight: \"bold\" }}> {domains.nonReachableDomains}</span> <br /> not reachable</p>\n                                </div>\n                            </MDBCol>\n                        </MDBRow>\n                    </MDBCol>\n                </MDBRow>\n                <br /> <br />\n                <MDBRow >\n                    <MDBCol sm=\"11\" md=\"11\" lg=\"11\" style={{ padding: \"10px 25px\", border: \"1px solid #ededef\" }}>\n                        <div style={{ maxHeight: \"48vh\", overflowY: \"auto\", overflowX: \"hidden\" }}>\n                            <MDBRow className=\"awsRow\">\n\n                                {\n                                    sortedDomains.map((dom: any) =>\n                                        <>\n                                            <MDBCol className=\"domainList\" sm=\"3\" md=\"3\" lg=\"3\" onClick={() => SubDomainSwitch(dom.domainName) }>\n                                                <div className=\"domainCard\">\n                                                <MDBBadge className=\"DomainBadge\" color={dom.totalIssues > 0 ? \"danger\" : \"success\"}>{dom.totalIssues} issues</MDBBadge> \n                                                    <p style={{ fontSize: \"12px\", color: \"chocolate\" }}></p>\n                                                    <p className='text-dark font-weight-bold' style={{ fontSize: \"20px\", marginBlockEnd: \"0px\" }}>{dom.domainName}</p>\n                                                    {/* <span style={{ fontSize: \"12px\", color: \"#dc3912\", fontWeight: 600 }}>{dom.totalCriticalIssues} critical issues</span> */}\n                                                </div>\n                                            </MDBCol>\n                                            <MDBCol sm=\"1\" md=\"1\" lg=\"1\" ></MDBCol>\n                                       </>\n                                    )\n                                }\n                            </MDBRow>\n                        </div>\n                    </MDBCol>\n                </MDBRow>\n            </MDBContainer>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}