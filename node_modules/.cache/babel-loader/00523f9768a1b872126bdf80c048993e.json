{"ast":null,"code":"import _slicedToArray from\"/Users/ankitadixit/Documents/watcher-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Redirect}from'react-router';import{MDBCol,MDBContainer,MDBIcon,MDBRow,MDBView,MDBMask,MDBNotification}from\"mdbreact\";import\"./style.css\";import{Chart}from\"../common/VulnChart\";import{CategoryChart}from\"../common/VulnCatChart\";import{OrgChart}from\"../common/OrgChart\";import{GradeChart}from\"../common/GradeChart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Home=function Home(props){console.log(props);var _useState=useState({\"trial_days_remaining\":15,\"metrics\":{\"vapt\":{\"categories\":{},\"count\":{criticalCount:0,highCount:0,lowCount:0}}}}),_useState2=_slicedToArray(_useState,2),dashboardKPI=_useState2[0],setDashboardKPI=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),pentestSeries=_useState4[0],setpentestSeries=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),pentestSeriesCategory=_useState6[0],setpentestSeriesCategory=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),pentestSeriesCategoryCount=_useState8[0],setpentestSeriesCategoryCount=_useState8[1];var token=localStorage.getItem(\"token\");useEffect(function(){console.log(props.Kpi);console.log(props.Kpi.trial_days_remaining);if(props.Kpi.metrics.vapt!==undefined){if(props.Kpi.metrics.vapt.categories!==undefined){var sortable=[];for(var _i=0,_Object$entries=Object.entries(props.Kpi.metrics.vapt.categories);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];console.log(\"\".concat(key,\": \").concat(value));sortable.push([key,value]);}sortable.sort(function(a,b){return b[1]-a[1];});var _pentestSeries;var _pentestSeriesCategory;var _pentestSeriesCategoryCount;_pentestSeries=[props.Kpi.metrics.vapt.count.criticalCount,props.Kpi.metrics.vapt.count.highCount,props.Kpi.metrics.vapt.count.mediumCount,props.Kpi.metrics.vapt.count.lowCount];_pentestSeriesCategory=[sortable[0][0],sortable[1][0],sortable[2][0]];_pentestSeriesCategoryCount=[sortable[0][1],sortable[1][1],sortable[2][1]];console.log(_pentestSeriesCategory);setpentestSeries(_pentestSeries);setpentestSeriesCategory(_pentestSeriesCategory);setpentestSeriesCategoryCount(_pentestSeriesCategoryCount);setDashboardKPI(props.Kpi);}}},[props]);if(token===null||token===undefined||token.length<0){return/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/login'}});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(MDBContainer,{fluid:true,className:\"pt-5 pb-5\",style:{padding:\"2vw\"},children:/*#__PURE__*/_jsxs(MDBRow,{style:{minHeight:\"80vh\"},children:[/*#__PURE__*/_jsxs(MDBCol,{sm:\"6\",md:\"6\",lg:\"6\",children:[/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{style:{fontWeight:800},children:\"Organisation health\"}),/*#__PURE__*/_jsxs(MDBView,{children:[/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsx(MDBCol,{sm:\"12\",md:\"12\",lg:\"5\",children:/*#__PURE__*/_jsx(OrgChart,{})}),/*#__PURE__*/_jsx(MDBCol,{sm:\"12\",md:\"12\",lg:\"7\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gradechart\",style:{opacity:0.4,display:\"inline-flex\",minHeight:\"130px\"},children:[/*#__PURE__*/_jsx(GradeChart,{title:\"Assets grade\",value:90}),/*#__PURE__*/_jsx(GradeChart,{title:\"Domains grade\",value:70,offsetX:-50})]})})]}),/*#__PURE__*/_jsx(MDBMask,{overlay:\"white-light\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(MDBIcon,{style:{color:\"#2bbbad\",cursor:\"pointer\"},size:\"1x\",icon:\"lock\"})})})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(MDBRow,{children:/*#__PURE__*/_jsxs(MDBCol,{sm:\"12\",md:\"12\",lg:\"12\",style:{padding:\"20px\",border:\"1px solid #fff\"},children:[/*#__PURE__*/_jsxs(\"h6\",{style:{fontWeight:800},children:[\"Issues \",/*#__PURE__*/_jsx(\"span\",{className:\"text-light\",style:{fontSize:\"8px\",marginLeft:\"10px\",paddingTop:\"10px\"},children:\"6 available\"})]}),/*#__PURE__*/_jsxs(MDBView,{style:{border:\"1px solid #fff\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{maxHeight:\"65vh\",overflowY:\"auto\",overflowX:\"hidden\"},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(MDBContainer,{fluid:true,children:[/*#__PURE__*/_jsx(MDBNotification,{show:true,fade:true,icon:\"bell\",iconClassName:\"grey-text\",className:\"notify\",title:\"SubDomain\",message:\"1 new issue [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\",text:\"23 minutes ago\",style:{maxWidth:\"100vw !important\"}}),/*#__PURE__*/_jsx(MDBNotification,{show:true,fade:true,icon:\"bell\",iconClassName:\"grey-text\",className:\"notify\",title:\"Sensitive endpoint\",message:\"2 new misconfigurations [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\",text:\"42 minutes ago\"}),/*#__PURE__*/_jsx(MDBNotification,{show:true,fade:true,icon:\"bell\",iconClassName:\"grey-text\",className:\"notify\",title:\"Public GIT repo\",message:\"Alert! GIT repo public [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\",text:\"56 minutes ago\"}),/*#__PURE__*/_jsx(MDBNotification,{show:true,fade:true,icon:\"bell\",iconClassName:\"grey-text\",className:\"notify\",title:\"Public GIT repo\",message:\"Alert! GIT repo public [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\",text:\"56 minutes ago\"}),/*#__PURE__*/_jsx(MDBNotification,{show:true,fade:true,icon:\"bell\",iconClassName:\"grey-text\",className:\"notify\",title:\"Public GIT repo\",message:\"Alert! GIT repo public [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\",text:\"56 minutes ago\"}),/*#__PURE__*/_jsx(MDBNotification,{show:true,fade:true,icon:\"bell\",iconClassName:\"grey-text\",className:\"notify\",title:\"Public GIT repo\",message:\"Alert! GIT repo public [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\",text:\"56 minutes ago\"}),/*#__PURE__*/_jsx(MDBNotification,{show:true,fade:true,icon:\"bell\",iconClassName:\"grey-text\",className:\"notify\",title:\"Public GIT repo\",message:\"Alert! GIT repo public [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\",text:\"56 minutes ago\"})]})]}),/*#__PURE__*/_jsx(MDBMask,{overlay:\"white-strong\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(MDBIcon,{style:{color:\"#2bbbad\",cursor:\"pointer\"},size:\"1x\",icon:\"lock\"})})})]})]})})})]}),/*#__PURE__*/_jsxs(MDBCol,{sm:\"6\",md:\"6\",lg:\"6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ptest\",style:{cursor:\"pointer\",border:\"1px solid #ededef\"},onClick:function onClick(){props.SwitchView('pentest');},children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"st\",style:{fontWeight:800,cursor:\"pointer\"},children:[\"Penetration test\",/*#__PURE__*/_jsx(MDBIcon,{icon:\"angle-double-right\",style:{fontSize:\"15px\",marginLeft:\"10px\",float:\"right\"}})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"11px\",padding:\"10px\"},children:\"This pentest is an authorized simulated cyberattack on a computer system, performed to evaluate the security of the system by identifying vulnerabilities enabling a full risk assessment to be completed.\"}),/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsxs(MDBCol,{sm:\"12\",md:\"12\",lg:\"6\",children:[/*#__PURE__*/_jsx(Chart,{series:pentestSeries,width:250,height:150}),\" \"]}),/*#__PURE__*/_jsxs(MDBCol,{sm:\"12\",md:\"12\",lg:\"6\",children:[\"   \",/*#__PURE__*/_jsx(CategoryChart,{series:pentestSeriesCategoryCount,category:pentestSeriesCategory})]})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h6\",{style:{fontWeight:800},children:\"Risk by severity and category: Services\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"11px\"},children:\"Watcher keps eye on all your cloud services, monitors organisation assets at scale, regularly checks for misconfigurations for potential hacks and exploits.\"}),/*#__PURE__*/_jsxs(MDBView,{style:{border:\"1px solid #fff\"},children:[/*#__PURE__*/_jsxs(MDBRow,{style:{opacity:0.4},children:[/*#__PURE__*/_jsx(MDBCol,{sm:\"12\",md:\"12\",lg:\"6\",children:/*#__PURE__*/_jsx(Chart,{color:[\"#787878\",\"#5a5a5a\",\"#a6a6a6\"],width:250,height:150,series:[6,23,14,21]})}),/*#__PURE__*/_jsxs(MDBCol,{sm:\"12\",md:\"12\",lg:\"6\",children:[\"  \",/*#__PURE__*/_jsx(CategoryChart,{color:[\"#787878\",\"#5a5a5a\",\"#a6a6a6\"],series:[5,3,3]})]})]}),/*#__PURE__*/_jsx(MDBMask,{overlay:\"white-strong\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(MDBIcon,{style:{color:\"#2bbbad\",cursor:\"pointer\"},size:\"1x\",icon:\"lock\"})})})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h6\",{style:{fontWeight:800},children:\"Risk by severity and category: Domains\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"11px\"},children:\"Watcher checks on all your domains, monitors organisation assets at scale, regularly checks for misconfigurations for potential hacks and exploits.\"}),/*#__PURE__*/_jsxs(MDBView,{style:{border:\"1px solid #fff\"},children:[/*#__PURE__*/_jsxs(MDBRow,{style:{opacity:0.4},children:[/*#__PURE__*/_jsx(MDBCol,{sm:\"12\",md:\"12\",lg:\"6\",children:/*#__PURE__*/_jsx(Chart,{color:[\"#787878\",\"#5a5a5a\",\"#a6a6a6\"],width:250,height:150,series:[8,13,2,12]})}),/*#__PURE__*/_jsxs(MDBCol,{sm:\"12\",md:\"12\",lg:\"6\",children:[\"  \",/*#__PURE__*/_jsx(CategoryChart,{color:[\"#787878\",\"#5a5a5a\",\"#a6a6a6\"],series:[8,13,12]})]})]}),/*#__PURE__*/_jsx(MDBMask,{overlay:\"white-strong\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(MDBIcon,{style:{color:\"#2bbbad\",cursor:\"pointer\"},size:\"1x\",icon:\"lock\"})})})]})]})]})]})})});};","map":{"version":3,"sources":["/Users/ankitadixit/Documents/watcher-ui/src/components/dashboard/Home.tsx"],"names":["React","useState","useEffect","Redirect","MDBCol","MDBContainer","MDBIcon","MDBRow","MDBView","MDBMask","MDBNotification","Chart","CategoryChart","OrgChart","GradeChart","Home","props","console","log","criticalCount","highCount","lowCount","dashboardKPI","setDashboardKPI","pentestSeries","setpentestSeries","pentestSeriesCategory","setpentestSeriesCategory","pentestSeriesCategoryCount","setpentestSeriesCategoryCount","token","localStorage","getItem","Kpi","trial_days_remaining","metrics","vapt","undefined","categories","sortable","Object","entries","key","value","push","sort","a","b","count","mediumCount","length","pathname","padding","minHeight","fontWeight","opacity","display","color","cursor","border","fontSize","marginLeft","paddingTop","maxHeight","overflowY","overflowX","maxWidth","SwitchView","float"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { Redirect } from 'react-router';\nimport { Header } from \"../../common/Header\";\nimport {\n    MDBBtn,\n    MDBFreeBird,\n    MDBCard,\n    MDBCardBody,\n    MDBCardImage,\n    MDBCardText,\n    MDBCol,\n    MDBContainer,\n    MDBFormInline,\n    MDBIcon,\n    MDBInput,\n    MDBRow,\n    MDBTable,\n    MDBTableBody,\n    MDBTableHead,\n    MDBEdgeHeader,\n    MDBCardTitle,\n    MDBListGroup,\n    MDBListGroupItem,\n    MDBView,\n    MDBMask,\n    MDBNotification\n} from \"mdbreact\";\nimport { useHistory } from \"react-router\";\nimport \"./style.css\"\nimport Charts from \"react-apexcharts\";\nimport { Chart } from \"../common/VulnChart\"\nimport { CategoryChart } from \"../common/VulnCatChart\"\nimport { OrgChart } from \"../common/OrgChart\"\nimport { GradeChart } from \"../common/GradeChart\"\nexport const Home = (props: any) => {\n    console.log(props)\n    const [dashboardKPI, setDashboardKPI] = useState({ \"trial_days_remaining\": 15, \"metrics\": { \"vapt\": { \"categories\": {}, \"count\": { criticalCount: 0, highCount: 0, lowCount: 0 } } } });\n    const [pentestSeries, setpentestSeries] = useState([])\n    const [pentestSeriesCategory, setpentestSeriesCategory] = useState([])\n    const [pentestSeriesCategoryCount, setpentestSeriesCategoryCount] = useState([])\n    const token = localStorage.getItem(\"token\");\n    useEffect(() => {\n        console.log(props.Kpi)\n        console.log(props.Kpi.trial_days_remaining)\n        if (props.Kpi.metrics.vapt !== undefined) {\n            if (props.Kpi.metrics.vapt.categories !== undefined) {\n                let sortable: any = [];\n                for (const [key, value] of Object.entries(props.Kpi.metrics.vapt.categories)) {\n                    console.log(`${key}: ${value}`);\n                    sortable.push([key, value]);\n                }\n                sortable.sort((a: any, b: any) => {\n                    return b[1] - a[1];\n                });\n                let pentestSeries: any;\n                let pentestSeriesCategory: any;\n                let pentestSeriesCategoryCount: any;\n\n                pentestSeries = [props.Kpi.metrics.vapt.count.criticalCount, props.Kpi.metrics.vapt.count.highCount, props.Kpi.metrics.vapt.count.mediumCount, props.Kpi.metrics.vapt.count.lowCount]\n                pentestSeriesCategory = [(sortable[0] as any)[0], (sortable[1] as any)[0], (sortable[2] as any)[0]]\n                pentestSeriesCategoryCount = [(sortable[0] as any)[1], (sortable[1] as any)[1], (sortable[2] as any)[1]]\n                console.log(pentestSeriesCategory)\n                setpentestSeries(pentestSeries)\n                setpentestSeriesCategory(pentestSeriesCategory)\n                setpentestSeriesCategoryCount(pentestSeriesCategoryCount)\n                setDashboardKPI(props.Kpi)\n            }\n        }\n    }, [props]);\n\n    if (token === null || token === undefined || token.length < 0) {\n        return <Redirect to={{\n            pathname: '/login',\n        }} />\n    }\n    return (\n        <>\n            <MDBContainer fluid className=\"pt-5 pb-5\" style={{ padding: \"2vw\" }}>\n\n                <MDBRow style={{ minHeight: \"80vh\" }}>\n\n                    <MDBCol sm=\"6\" md=\"6\" lg=\"6\">\n                        <>\n                            <h5 style={{ fontWeight: 800 }}>Organisation health</h5>\n                            <MDBView >\n                                <MDBRow >\n                                    <MDBCol sm=\"12\" md=\"12\" lg=\"5\">\n                                        <OrgChart />\n                                    </MDBCol>\n                                    <MDBCol sm=\"12\" md=\"12\" lg=\"7\">\n                                        <div className=\"gradechart\" style={{ opacity: 0.4, display: \"inline-flex\", minHeight: \"130px\" }}>\n                                            <GradeChart title={\"Assets grade\"} value={90} />\n                                            <GradeChart title={\"Domains grade\"} value={70} offsetX={-50} />\n                                        </div>\n\n                                    </MDBCol>\n                                </MDBRow>\n                                <MDBMask overlay=\"white-light\">\n                                    <p><MDBIcon style={{ color: \"#2bbbad\", cursor: \"pointer\" }} size=\"1x\" icon=\"lock\" >\n                                    </MDBIcon></p>\n                                </MDBMask>\n                            </MDBView>\n                        </>\n                        <br />\n                        <>\n                            <MDBRow >\n                                <MDBCol sm=\"12\" md=\"12\" lg=\"12\" style={{ padding: \"20px\", border: \"1px solid #fff\" }}>\n                                    <h6 style={{ fontWeight: 800 }}>Issues <span className='text-light' style={{ fontSize: \"8px\", marginLeft: \"10px\", paddingTop: \"10px\" }}>6 available</span></h6>\n                                    <MDBView style={{ border: \"1px solid #fff\" }}>\n                                        <div style={{ maxHeight: \"65vh\", overflowY: \"auto\", overflowX: \"hidden\" }}>\n\n                                            <br />\n                                            <MDBContainer fluid>\n                                                <MDBNotification\n                                                    show\n                                                    fade\n                                                    icon=\"bell\"\n                                                    iconClassName=\"grey-text\"\n                                                    className=\"notify\"\n                                                    title=\"SubDomain\"\n                                                    message=\"1 new issue [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\"\n                                                    text=\"23 minutes ago\"\n                                                    style={{ maxWidth: \"100vw !important\" }}\n                                                />\n                                                <MDBNotification\n                                                    show\n                                                    fade\n                                                    icon=\"bell\"\n                                                    iconClassName=\"grey-text\"\n                                                    className=\"notify\"\n                                                    title=\"Sensitive endpoint\"\n                                                    message=\"2 new misconfigurations [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\"\n                                                    text=\"42 minutes ago\"\n                                                />\n                                                <MDBNotification\n                                                    show\n                                                    fade\n                                                    icon=\"bell\"\n                                                    iconClassName=\"grey-text\"\n                                                    className=\"notify\"\n                                                    title=\"Public GIT repo\"\n                                                    message=\"Alert! GIT repo public [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\"\n                                                    text=\"56 minutes ago\"\n                                                />\n                                                <MDBNotification\n                                                    show\n                                                    fade\n                                                    icon=\"bell\"\n                                                    iconClassName=\"grey-text\"\n                                                    className=\"notify\"\n                                                    title=\"Public GIT repo\"\n                                                    message=\"Alert! GIT repo public [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\"\n                                                    text=\"56 minutes ago\"\n                                                />\n                                                <MDBNotification\n                                                    show\n                                                    fade\n                                                    icon=\"bell\"\n                                                    iconClassName=\"grey-text\"\n                                                    className=\"notify\"\n                                                    title=\"Public GIT repo\"\n                                                    message=\"Alert! GIT repo public [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\"\n                                                    text=\"56 minutes ago\"\n                                                />\n                                                <MDBNotification\n                                                    show\n                                                    fade\n                                                    icon=\"bell\"\n                                                    iconClassName=\"grey-text\"\n                                                    className=\"notify\"\n                                                    title=\"Public GIT repo\"\n                                                    message=\"Alert! GIT repo public [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\"\n                                                    text=\"56 minutes ago\"\n                                                />\n                                                <MDBNotification\n                                                    show\n                                                    fade\n                                                    icon=\"bell\"\n                                                    iconClassName=\"grey-text\"\n                                                    className=\"notify\"\n                                                    title=\"Public GIT repo\"\n                                                    message=\"Alert! GIT repo public [Cras mattis iudicium purus sit amet fermentum. Donec sed odio operae, eu vulputate felis rhoncus.]\"\n                                                    text=\"56 minutes ago\"\n                                                />\n                                            </MDBContainer>\n                                        </div>\n                                        <MDBMask overlay=\"white-strong\" >\n                                            <p><MDBIcon style={{ color: \"#2bbbad\", cursor: \"pointer\" }} size=\"1x\" icon=\"lock\" /></p>\n                                        </MDBMask>\n                                    </MDBView>\n                                </MDBCol>\n                            </MDBRow>\n\n                        </>\n                    </MDBCol>\n                    <MDBCol sm=\"6\" md=\"6\" lg=\"6\">\n                        <div className=\"ptest\" style={{ cursor: \"pointer\", border: \"1px solid #ededef\" }} onClick={() => {\n                            props.SwitchView('pentest')\n                        }}>\n                            <h6 className=\"st\" style={{ fontWeight: 800, cursor: \"pointer\" }}>Penetration test\n                            <MDBIcon icon=\"angle-double-right\" style={{ fontSize: \"15px\", marginLeft: \"10px\", float: \"right\" }} />\n                            </h6>\n                            <p style={{ fontSize: \"11px\", padding: \"10px\" }}>This pentest is an authorized simulated cyberattack on a computer system,\n                            performed to evaluate the security of the system by identifying vulnerabilities enabling a full risk assessment to be completed.\n                        </p>\n                            <MDBRow>\n                                <MDBCol sm=\"12\" md=\"12\" lg=\"6\"><Chart series={pentestSeries} width={250} height={150} /> </MDBCol>\n                                <MDBCol sm=\"12\" md=\"12\" lg=\"6\">   <CategoryChart series={pentestSeriesCategoryCount} category={pentestSeriesCategory} /></MDBCol>\n                            </MDBRow>\n                        </div>\n                        <br /><br />\n                        <>\n                            <h6 style={{ fontWeight: 800 }}>Risk by severity and category: Services</h6>\n                            <p style={{ fontSize: \"11px\" }}>Watcher keps eye on all your cloud services, monitors organisation assets at scale,\n                            regularly checks for misconfigurations for potential hacks and exploits.\n                        </p>\n\n                            <MDBView style={{ border: \"1px solid #fff\" }}>\n                                <MDBRow style={{ opacity: 0.4 }}>\n                                    <MDBCol sm=\"12\" md=\"12\" lg=\"6\"><Chart color={[\"#787878\", \"#5a5a5a\", \"#a6a6a6\"]} width={250} height={150} series={[6, 23, 14, 21]} /></MDBCol>\n                                    <MDBCol sm=\"12\" md=\"12\" lg=\"6\">  <CategoryChart color={[\"#787878\", \"#5a5a5a\", \"#a6a6a6\"]} series={[5, 3, 3]} /></MDBCol>\n                                </MDBRow>\n                                <MDBMask overlay=\"white-strong\" >\n                                    <p><MDBIcon style={{ color: \"#2bbbad\", cursor: \"pointer\" }} size=\"1x\" icon=\"lock\" /></p>\n                                </MDBMask>\n                            </MDBView>\n                        </>\n                        <br /><br />\n                        <>\n                            <h6 style={{ fontWeight: 800 }}>Risk by severity and category: Domains</h6>\n                            <p style={{ fontSize: \"11px\" }}>Watcher checks on all your domains, monitors organisation assets at scale,\n                            regularly checks for misconfigurations for potential hacks and exploits.\n                        </p>\n                            <MDBView style={{ border: \"1px solid #fff\" }}>\n                                <MDBRow style={{ opacity: 0.4 }}>\n                                    <MDBCol sm=\"12\" md=\"12\" lg=\"6\"><Chart color={[\"#787878\", \"#5a5a5a\", \"#a6a6a6\"]} width={250} height={150} series={[8, 13, 2, 12]} /></MDBCol>\n                                    <MDBCol sm=\"12\" md=\"12\" lg=\"6\">  <CategoryChart color={[\"#787878\", \"#5a5a5a\", \"#a6a6a6\"]} series={[8, 13, 12]} /></MDBCol>\n                                </MDBRow>\n                                <MDBMask overlay=\"white-strong\" >\n                                    <p><MDBIcon style={{ color: \"#2bbbad\", cursor: \"pointer\" }} size=\"1x\" icon=\"lock\" /></p>\n                                </MDBMask>\n                            </MDBView>\n                        </>\n                    </MDBCol>\n                </MDBRow>\n            </MDBContainer>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}