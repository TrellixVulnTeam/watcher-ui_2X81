{"ast":null,"code":"var _jsxFileName = \"/Users/ankitadixit/Documents/watcher-ui/src/components/dashboard/Onboarding.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Redirect } from 'react-router';\nimport { MDBBtn, MDBFreeBird, MDBCardBody, MDBCol, MDBContainer, MDBFormInline, MDBIcon, MDBInput, MDBRow, MDBEdgeHeader, MDBCardTitle, MDBProgress } from \"mdbreact\";\nimport { useHistory } from \"react-router\";\nimport \"./style.css\";\nimport { authToken } from '../../services/auth';\nimport { fetchData } from '../../services/apiConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Onboarding = props => {\n  _s();\n\n  const [visibility, setVisibility] = useState(\"none\");\n  const [connection, setconnection] = useState(0);\n  const history = useHistory();\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    console.log(token);\n\n    if (token) {\n      fetchData('onboard', 'GET');\n    }\n  }, []);\n\n  const Submit = () => {\n    authToken();\n    setVisibility(\"\");\n    setconnection(0);\n\n    for (let i = 0; i <= 100; i++) {\n      setTimeout(progress, 2000, i);\n    }\n  };\n\n  const progress = i => {\n    setTimeout(setconnection(i), 2000);\n  };\n\n  const Dashboard = () => {\n    console.log(\"dashboard redirection\");\n    console.log(history);\n    console.log(props);\n    const tk = props.UserChange({\n      user: props.User.user,\n      is_onboarded: true\n    });\n    history.push(\"/\");\n  };\n\n  console.log(props);\n\n  if (props.User === undefined) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: '/login'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (props.User !== undefined && props.User.is_onboarded === true) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: '/'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MDBContainer, {\n      fluid: true,\n      style: {\n        padding: \"0px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(MDBEdgeHeader, {\n        color: \"none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MDBFreeBird, {\n        children: /*#__PURE__*/_jsxDEV(MDBRow, {\n          children: /*#__PURE__*/_jsxDEV(MDBCol, {\n            md: \"8\",\n            lg: \"7\",\n            className: \"mx-auto float-none white z-depth-1 py-2 px-2\",\n            children: /*#__PURE__*/_jsxDEV(MDBCardBody, {\n              children: [/*#__PURE__*/_jsxDEV(MDBCardTitle, {\n                children: \"Onboard to Watcher\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"pb-4\",\n                children: \"Follow the steps and submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                children: [/*#__PURE__*/_jsxDEV(\"ol\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"onboardSteps\",\n                    children: \"Hi User, Please follow these steps to onboard.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"onboardSteps\",\n                    children: [\"Please add following IAM role for cross-account access:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 41\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-dark font-weight-bold\",\n                      style: {\n                        fontSize: \"14px\"\n                      },\n                      children: \"account-id : 339361266834\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 48\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"onboardSteps\",\n                    children: [\"Role with policies :\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 41\n                    }, this), \"  \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-dark font-weight-bold\",\n                      style: {\n                        fontSize: \"14px\"\n                      },\n                      children: \"arn:aws:iam::aws:policy/SecurityAudit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 45\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-dark font-weight-bold\",\n                      style: {\n                        fontSize: \"14px\"\n                      },\n                      children: \" arn:aws:iam::aws:policy/job-function/ViewOnlyAccess\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 52\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"onboardSteps\",\n                    children: \"Once done, please share the role ARN with us.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                    label: \"arn:aws:iam::202298570782:role/apnisec-test-role\",\n                    icon: \"user\",\n                    size: \"sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(MDBFormInline, {\n                    children: [/*#__PURE__*/_jsxDEV(MDBIcon, {\n                      fab: true,\n                      icon: \"buffer\",\n                      style: {\n                        fontSize: \"25px\",\n                        color: \"black\",\n                        padding: \"0px\",\n                        paddingRight: \"20px\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(MDBInput //   onClick={this.onClick(1)}\n                    //   checked={this.state.radio === 1 ? true : false}\n                    , {\n                      label: \"DEV\",\n                      type: \"radio\",\n                      id: \"radio1\",\n                      containerClass: \"mr-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(MDBInput //   onClick={this.onClick(2)}\n                    //   checked={this.state.radio === 2 ? true : false}\n                    , {\n                      label: \"UAT\",\n                      type: \"radio\",\n                      id: \"radio2\",\n                      containerClass: \"mr-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 104,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(MDBInput //   onClick={this.onClick(3)}\n                    //   checked={this.state.radio === 3 ? true : false}\n                    , {\n                      label: \"Staging\",\n                      type: \"radio\",\n                      id: \"radio3\",\n                      containerClass: \"mr-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(MDBInput //   onClick={this.onClick(3)}\n                    //   checked={this.state.radio === 3 ? true : false}\n                    , {\n                      label: \"PRD\",\n                      type: \"radio\",\n                      id: \"radio3\",\n                      containerClass: \"mr-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-check\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      className: \"form-check-input\",\n                      id: \"exampleCheck1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-check-label\",\n                      children: \"Is cloud SSO enabled on this account\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n                  color: \"dark\",\n                  onClick: () => Submit(),\n                  className: \"text-xs-left\",\n                  children: \"Test Connection\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"my-2\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontWeight: 300,\n                    fontSize: \"0.75rem\"\n                  },\n                  children: \"Never submit before the steps\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: visibility\n                },\n                children: [/*#__PURE__*/_jsxDEV(MDBProgress, {\n                  value: connection,\n                  className: \"my-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 37\n                }, this), connection === 100 ? /*#__PURE__*/_jsxDEV(MDBBtn, {\n                  onClick: () => Dashboard(),\n                  style: {\n                    float: \"right\"\n                  },\n                  children: \"Continue to Watcher\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(MDBBtn, {\n                  onClick: () => Dashboard(),\n                  style: {\n                    float: \"right\"\n                  },\n                  disabled: true,\n                  children: \"Continue to Watcher\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Onboarding, \"iQtYDx7FJZKAFHwUhPo5bogKCdw=\", false, function () {\n  return [useHistory];\n});\n\n_c = Onboarding;\n\nvar _c;\n\n$RefreshReg$(_c, \"Onboarding\");","map":{"version":3,"sources":["/Users/ankitadixit/Documents/watcher-ui/src/components/dashboard/Onboarding.tsx"],"names":["React","useState","useEffect","Redirect","MDBBtn","MDBFreeBird","MDBCardBody","MDBCol","MDBContainer","MDBFormInline","MDBIcon","MDBInput","MDBRow","MDBEdgeHeader","MDBCardTitle","MDBProgress","useHistory","authToken","fetchData","Onboarding","props","visibility","setVisibility","connection","setconnection","history","token","localStorage","getItem","console","log","Submit","i","setTimeout","progress","Dashboard","tk","UserChange","user","User","is_onboarded","push","undefined","pathname","padding","fontSize","color","paddingRight","fontWeight","display","float"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { Redirect } from 'react-router';\nimport { Header } from \"../../common/Header\";\nimport {\n    MDBBtn,\n    MDBFreeBird,\n    MDBCard,\n    MDBCardBody,\n    MDBCardImage,\n    MDBCardText,\n    MDBCol,\n    MDBContainer,\n    MDBFormInline,\n    MDBIcon,\n    MDBInput,\n    MDBRow,\n    MDBTable,\n    MDBTableBody,\n    MDBTableHead,\n    MDBEdgeHeader,\n    MDBCardTitle,\n    MDBProgress\n} from \"mdbreact\";\nimport { useHistory } from \"react-router\";\nimport \"./style.css\"\nimport { authToken } from '../../services/auth'\nimport { fetchData } from '../../services/apiConfig'\n\nexport const Onboarding = (props: any) => {\n    const [visibility, setVisibility] = useState(\"none\");\n    const [connection, setconnection] = useState(0);\n    const history = useHistory();\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\");\n        console.log(token);\n        if (token) {\n            fetchData('onboard', 'GET')\n           \n        }\n    }, []);\n    const Submit = () => {\n        authToken()\n        setVisibility(\"\")\n        setconnection(0)\n        for (let i = 0; i <= 100; i++) {\n            setTimeout(progress, 2000, i)\n        }\n\n    }\n    const progress = (i: any) => {\n        setTimeout((setconnection(i) as any), 2000)\n    }\n\n    const Dashboard = () => {\n\n        console.log(\"dashboard redirection\");\n        console.log(history);\n        console.log(props)\n        const tk = props.UserChange({ user: props.User.user, is_onboarded: true })\n        history.push(\"/\");\n    }\n    console.log(props)\n    if (props.User === undefined) {\n        return <Redirect to={{\n            pathname: '/login',\n        }} />\n    }\n    if (props.User !== undefined && props.User.is_onboarded === true) {\n        return <Redirect to={{\n            pathname: '/',\n        }} />\n    }\n\n    return (\n        <>\n            <MDBContainer fluid style={{ padding: \"0px\" }}>\n                <MDBEdgeHeader color=\"none\"></MDBEdgeHeader>\n                <MDBFreeBird>\n                    <MDBRow>\n                        <MDBCol md=\"8\" lg=\"7\" className=\"mx-auto float-none white z-depth-1 py-2 px-2\">\n                            <MDBCardBody>\n                                <MDBCardTitle>Onboard to Watcher</MDBCardTitle>\n                                <p className=\"pb-4\">Follow the steps and submit</p>\n                                <form>\n                                    <ol>\n                                        <li className=\"onboardSteps\">Hi User, Please follow these steps to onboard.</li>\n                                        <li className=\"onboardSteps\">Please add following IAM role for cross-account access:\n                                        <br /> <span className='text-dark font-weight-bold' style={{ fontSize: \"14px\" }}>account-id : 339361266834</span> </li>\n                                        <li className=\"onboardSteps\">Role with policies :\n                                        <br />  <span className='text-dark font-weight-bold' style={{ fontSize: \"14px\" }}>arn:aws:iam::aws:policy/SecurityAudit</span>\n                                            <br /> <span className='text-dark font-weight-bold' style={{ fontSize: \"14px\" }}> arn:aws:iam::aws:policy/job-function/ViewOnlyAccess</span> </li>\n                                        <li className=\"onboardSteps\">Once done, please share the role ARN with us.</li>\n                                        <MDBInput label=\"arn:aws:iam::202298570782:role/apnisec-test-role\" icon=\"user\" size=\"sm\" />\n                                        <MDBFormInline>\n                                            <MDBIcon fab icon=\"buffer\" style={{ fontSize: \"25px\", color: \"black\", padding: \"0px\", paddingRight: \"20px\" }} />\n                                            <MDBInput\n                                                //   onClick={this.onClick(1)}\n                                                //   checked={this.state.radio === 1 ? true : false}\n                                                label='DEV'\n                                                type='radio'\n                                                id='radio1'\n                                                containerClass='mr-5'\n                                            />\n                                            <MDBInput\n                                                //   onClick={this.onClick(2)}\n                                                //   checked={this.state.radio === 2 ? true : false}\n                                                label='UAT'\n                                                type='radio'\n                                                id='radio2'\n                                                containerClass='mr-5'\n                                            />\n                                            <MDBInput\n                                                //   onClick={this.onClick(3)}\n                                                //   checked={this.state.radio === 3 ? true : false}\n                                                label='Staging'\n                                                type='radio'\n                                                id='radio3'\n                                                containerClass='mr-5'\n                                            />\n                                            <MDBInput\n                                                //   onClick={this.onClick(3)}\n                                                //   checked={this.state.radio === 3 ? true : false}\n                                                label='PRD'\n                                                type='radio'\n                                                id='radio3'\n                                                containerClass='mr-5'\n                                            />\n                                        </MDBFormInline>\n                                        <br />\n                                        <div className=\"form-check\">\n                                            <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\" />\n                                            <label className=\"form-check-label\">Is cloud SSO enabled on this account</label>\n                                        </div>\n                                    </ol>\n                                    <br />\n                                    <MDBBtn color=\"dark\" onClick={() => Submit()} className=\"text-xs-left\">Test Connection</MDBBtn>\n                                </form>\n                                <div className=\"my-2\">\n                                    <p style={{ fontWeight: 300, fontSize: \"0.75rem\" }}>Never submit before the steps</p>\n                                </div>\n                                <div style={{ display: visibility }}>\n                                    <MDBProgress value={connection} className=\"my-2\" />\n                                    {connection === 100 ?\n                                        <MDBBtn onClick={() => Dashboard()} style={{ float: \"right\" }}>Continue to Watcher</MDBBtn> :\n                                        <MDBBtn onClick={() => Dashboard()} style={{ float: \"right\" }} disabled>Continue to Watcher</MDBBtn>}\n                                </div>\n                            </MDBCardBody>\n                        </MDBCol>\n                    </MDBRow>\n                </MDBFreeBird>\n            </MDBContainer>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}